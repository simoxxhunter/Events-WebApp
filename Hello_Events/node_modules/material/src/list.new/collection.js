class Collection {
  constructor () {
    this.items = {}
    this.ids = []
  }

  add (item) {
    const id = item[this.dataId]
    this.items[id] = item
    this.ids.push(id)
  }

  get (id) {
    return this.items[id] || null
  }

  getIndex (id) {
    return this.ids.indexOf(id)
  }

  getPage (page, pageSize) {
    const start = (page - 1) * pageSize
    const end = start + pageSize
    return this.ids.slice(start, end).map(id => this.items[id])
  }

  getCount () {
    return this.ids.length
  }
}
